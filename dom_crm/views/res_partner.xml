<?xml version="1.0" encoding="UTF-8" ?>
<odoo>

    <!-- Inherit Form View to Modify it -->
    <record id="dom_crm_partner_form_inherit" model="ir.ui.view">
        <field name="name">Dom CRM Partner Form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="dom_partner.dom_partner_form"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='ca_12']" position="after">
                <field name="CA_objectif" />
                <field name="CA_progress" widget="progressbar" />
            </xpath>

            <xpath expr="//field[@name='gr']" position="before">
                <field name="centrale_id" attrs="{'invisible':[('company_type','!=','company')] }"/>
            </xpath>

        </field>
    </record>

    <record id="view_partner_form" model="ir.ui.view">
        <field name="name">Dom CRM Partner Form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_partner_form"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='opt_out']" position="replace">
                <field name="opt_out" string="Désabonné"/>
            </xpath>

        </field>
    </record>


    <record id="view_res_partner_filter" model="ir.ui.view">
        <field name="name">Dom CRM Partner Form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="base.view_res_partner_filter"/>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='user_id']" position="after">
                <field name="centrale_id"/>
            </xpath>

            <xpath expr="//search" position="inside">
                <filter string="Centrale" name="centrale_defined" domain="[('centrale_id', '!=', False)]"/>
            </xpath>

        </field>
    </record>


</odoo>
